<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>页面居中测试</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 测试专用样式 */
        .test-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            z-index: 10000;
            min-width: 250px;
        }
        
        .test-status {
            margin: 8px 0;
            padding: 8px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .status-success {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }
        
        .status-error {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }
        
        .status-warning {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }
        
        .debug-info {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 12px;
            text-align: left;
        }
        
        .debug-info h4 {
            margin: 0 0 10px 0;
            color: #1e40af;
        }
        
        .debug-info pre {
            margin: 0;
            white-space: pre-wrap;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <!-- 测试状态指示器 -->
    <div class="test-indicator">
        <div style="font-weight: bold; margin-bottom: 10px; text-align: center;">居中状态检测</div>
        <div id="centering-status" class="test-status status-warning">检测中...</div>
        <div id="layout-status" class="test-status status-warning">检测中...</div>
        <div id="overflow-status" class="test-status status-warning">检测中...</div>
        <div id="css-status" class="test-status status-warning">检测中...</div>
    </div>

    <main class="main-content">
        <div class="content-grid">
            <!-- 测试标题 -->
            <div class="card">
                <h1 class="card-title">页面居中测试</h1>
                <p class="card-subtitle">测试页面是否完美居中，解决内容偏向左侧的问题</p>
            </div>

            <!-- 时间轴测试 -->
            <div class="card">
                <h2>时间轴测试</h2>
                <div class="main-timeline">
                    <div class="timeline-milestone" data-age="1">
                        <div class="milestone-dot"></div>
                        <div class="milestone-label">开始阶段</div>
                        <div class="milestone-age">步骤 1</div>
                    </div>
                    <div class="timeline-milestone" data-age="2">
                        <div class="milestone-dot"></div>
                        <div class="milestone-label">进行中</div>
                        <div class="milestone-age">步骤 2</div>
                    </div>
                    <div class="timeline-milestone" data-age="3">
                        <div class="milestone-dot"></div>
                        <div class="milestone-label">完成阶段</div>
                        <div class="milestone-age">步骤 3</div>
                    </div>
                </div>
            </div>

            <!-- 活动卡片测试 -->
            <div class="card">
                <h2>活动卡片测试</h2>
                <div class="activities-grid">
                    <div class="activity-card">
                        <div class="activity-icon">🚀</div>
                        <div class="activity-title">核心活动</div>
                        <div class="activity-subtitle">这是最重要的活动</div>
                        <div class="activity-tag">CORE ACTIVITY</div>
                    </div>
                    <div class="activity-card">
                        <div class="activity-icon">🎯</div>
                        <div class="activity-title">战略思维</div>
                        <div class="activity-subtitle">培养战略思维能力</div>
                        <div class="activity-tag">STRATEGIC THINKING</div>
                    </div>
                    <div class="activity-card">
                        <div class="activity-icon">💎</div>
                        <div class="activity-title">长期兴趣</div>
                        <div class="activity-subtitle">持续发展的兴趣</div>
                        <div class="activity-tag">LONG-TERM INTEREST</div>
                    </div>
                </div>
            </div>

            <!-- 统计卡片测试 -->
            <div class="card">
                <h2>统计卡片测试</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">📊</div>
                        <div class="stat-number">100%</div>
                        <div class="stat-label">居中效果</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">📱</div>
                        <div class="stat-number">响应式</div>
                        <div class="stat-label">布局支持</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">✨</div>
                        <div class="stat-number">完美</div>
                        <div class="stat-label">用户体验</div>
                    </div>
                </div>
            </div>

            <!-- 调试信息 -->
            <div class="card">
                <h2>调试信息</h2>
                <div class="debug-info">
                    <h4>页面元素位置信息：</h4>
                    <pre id="debug-info">加载中...</pre>
                </div>
            </div>
        </div>
    </main>

    <script>
        // 居中状态检测
        function checkCentering() {
            const mainContent = document.querySelector('.main-content');
            const contentGrid = document.querySelector('.content-grid');
            
            if (mainContent && contentGrid) {
                const mainRect = mainContent.getBoundingClientRect();
                const gridRect = contentGrid.getBoundingClientRect();
                const windowWidth = window.innerWidth;
                
                // 检查主容器是否居中
                const mainCenter = mainRect.left + mainRect.width / 2;
                const windowCenter = windowWidth / 2;
                const mainOffset = Math.abs(mainCenter - windowCenter);
                
                // 检查内容网格是否居中
                const gridCenter = gridRect.left + gridRect.width / 2;
                const gridOffset = Math.abs(gridCenter - windowCenter);
                
                if (mainOffset < 50 && gridOffset < 50) {
                    document.getElementById('centering-status').className = 'test-status status-success';
                    document.getElementById('centering-status').textContent = '✅ 居中效果完美';
                } else {
                    document.getElementById('centering-status').className = 'test-status status-error';
                    document.getElementById('centering-status').textContent = '❌ 居中效果异常';
                }
            }
        }

        // 布局状态检测
        function checkLayout() {
            const cards = document.querySelectorAll('.card, .stat-card, .activity-card');
            let allCentered = true;
            let debugInfo = [];
            
            cards.forEach((card, index) => {
                const rect = card.getBoundingClientRect();
                const windowWidth = window.innerWidth;
                const cardCenter = rect.left + rect.width / 2;
                const windowCenter = windowWidth / 2;
                const offset = Math.abs(cardCenter - windowCenter);
                
                debugInfo.push(`卡片 ${index + 1}: 偏移 ${offset.toFixed(2)}px`);
                
                if (offset > 100) {
                    allCentered = false;
                }
            });
            
            // 更新调试信息
            document.getElementById('debug-info').textContent = debugInfo.join('\n');
            
            if (allCentered) {
                document.getElementById('layout-status').className = 'test-status status-success';
                document.getElementById('layout-status').textContent = '✅ 布局居中完美';
            } else {
                document.getElementById('layout-status').className = 'test-status status-error';
                document.getElementById('layout-status').textContent = '❌ 布局居中异常';
            }
        }

        // 溢出状态检测
        function checkOverflow() {
            const mainContent = document.querySelector('.main-content');
            const windowWidth = window.innerWidth;
            
            if (mainContent) {
                const rect = mainContent.getBoundingClientRect();
                const rightEdge = rect.right;
                const leftEdge = rect.left;
                
                if (rightEdge > windowWidth || leftEdge < 0) {
                    document.getElementById('overflow-status').className = 'test-status status-error';
                    document.getElementById('overflow-status').textContent = '❌ 内容溢出';
                } else {
                    document.getElementById('overflow-status').className = 'test-status status-success';
                    document.getElementById('overflow-status').textContent = '✅ 无内容溢出';
                }
            }
        }

        // CSS状态检测
        function checkCSS() {
            const link = document.querySelector('link[href="styles.css"]');
            if (link) {
                document.getElementById('css-status').className = 'test-status status-success';
                document.getElementById('css-status').textContent = '✅ CSS已加载';
            } else {
                document.getElementById('css-status').className = 'test-status status-error';
                document.getElementById('css-status').textContent = '❌ CSS未加载';
            }
        }

        // 页面加载完成后执行检测
        window.addEventListener('load', function() {
            setTimeout(() => {
                checkCentering();
                checkLayout();
                checkOverflow();
                checkCSS();
            }, 500);
        });

        // 窗口大小改变时重新检测
        window.addEventListener('resize', function() {
            setTimeout(() => {
                checkCentering();
                checkLayout();
                checkOverflow();
            }, 100);
        });

        // 定期检测
        setInterval(() => {
            checkCentering();
            checkLayout();
            checkOverflow();
        }, 3000);

        // 添加视觉反馈
        document.addEventListener('DOMContentLoaded', function() {
            // 为所有卡片添加悬停效果
            const cards = document.querySelectorAll('.card, .activity-card, .stat-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.15)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.08)';
                });
            });
        });
    </script>
</body>
</html>
